FROM python:3.8-slim

COPY flaskmnd/ /opt/flaskmnd
COPY instance/ /opt/instance
COPY wsgi.py /opt/wsgi.py
COPY guniconf.py /opt/guniconf.py
COPY requirements.txt /opt/requirements.txt

RUN pip install -r /opt/requirements.txt
RUN mkdir /opt/log/

WORKDIR /opt

CMD gunicorn wsgi:app --timeout 999999 --workers 2 --config guniconf.py --pid gunicornpid --bind 0.0.0.0:5000